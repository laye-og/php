Contextmenu=function(a){var b=this;b.dom,b.drawningboard=a,b.x,b.y,b.start=function(){b.finish(),b.drawningboard.api.loadTemplate("contextmenu",function(a){b.dom=$(a),$("#drawningboard").append(b.dom),b.dom.hide(),b.dom.css("top",b.y+13),b.dom.css("left",b.x-62),b.dom.slideDown(100),b.dom.bind("contextmenu",function(){return!1}),b.drawningboard.formatsvg(b.dom),b.drawningboard.ownermode&&b.drawningboard.selector.targethavecompanytext()&&(b.dom.find(".delete").addClass("disabled"),b.dom.find(".copy").addClass("disabled")),b.drawningboard.selector.target.length>1&&b.dom.find(".copy-colors").addClass("disabled"),b.drawningboard.selector.colorcopytarget||b.dom.find(".paste-colors").addClass("disabled"),b.registerevents()})},b.finish=function(){$(".contextmenu").remove()},b.registerevents=function(){b.dom.find(".back").on("click",function(){b.drawningboard.selector.back()}),b.dom.find(".front").on("click",function(){b.drawningboard.selector.front()}),b.dom.find(".backall").on("click",function(){b.drawningboard.selector.backall()}),b.dom.find(".frontall").on("click",function(){b.drawningboard.selector.frontall()}),b.dom.find(".copy").on("click",function(){b.drawningboard.ownermode&&b.drawningboard.selector.targethavecompanytext()||(b.drawningboard.selector.copy(),b.drawningboard.selector.paste(),b.finish())}),b.dom.find(".delete").on("click",function(){b.drawningboard.ownermode&&b.drawningboard.selector.targethavecompanytext()||b.drawningboard.selector.delete()}),b.dom.find(".copy-colors").on("click",function(){1==b.drawningboard.selector.target.length&&(b.dom.find(".copy-colors").find("span").html(b.drawningboard.api.dictionary.contextmenu_copy_colors_success),b.dom.find(".copy-colors").addClass("copied"),b.drawningboard.selector.copycolors(),setTimeout(function(){b.finish()},300))}),b.dom.find(".paste-colors").on("click",function(){b.drawningboard.selector.colorcopytarget&&(b.drawningboard.selector.pastecolors(),b.finish())})}};